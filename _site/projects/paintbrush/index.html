<!DOCTYPE html>
<html>

  <head>
  <title>Paintbrush&nbsp;JS</title>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="A selection of projects
" />


  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@mezzoblue" />
  <meta name="twitter:url" property="og:url" content="http://daveshea.com/" />
  <meta name="twitter:title" property="og:title" content="Dave Shea" />
  <meta name="twitter:description" property="og:description" content="A selection of projects" />
  <meta name="twitter:image" property="og:image" content="http://daveshea.com/i/favicon.min.png" />


  <link rel="stylesheet" href="/css/main.css" />
  
  <link rel="canonical" href="http://daveshea.com/projects/paintbrush/" />
  <link rel="alternate" type="application/rss+xml" title="Dave Shea" href="http://daveshea.com/feed.xml" />
  <link rel="shortcut icon" type="image/ico" href="/i/favicon.min.png" />

  <script src="//use.typekit.net/pfi3lqq.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>

</head>


  <body class="page-project page-project-paintbrush">

    <header class="site-header" id="top">

  <div class="wrapper">

    <a class="site-title" href="/">Dave&nbsp;Shea</a>
  	
	    <a class="site-title-back" href="/">‹&nbsp;back</a>
	

  </div>

</header>


	<div class="project-header">
      <div class="wrapper">
		<h1 class="project-title">Paintbrush&nbsp;JS</h1>
      </div>
	</div>


	<div class="project">

		<article class="project-content">
			

			<section id="summary" class="project-section">

	<div class="wrap">

		<div class="project-summary">
			<p>A Javascript library to bring common image processing effects to the browser,&nbsp;realtime.</p>
			<p class="project-role">Contribution:&nbsp;Creator</p>
		</div>

		<ul class="project-gallery project-gallery-1">
			<li class="project-thumb">
				<div class="project-frame">

					<form action="#" method="post" id="interaction-form">
					<div id="interaction" class="pbjs-form">

						<img src="/projects/paintbrushjs/bb.jpg" id="filter-target" class="filter-blur" alt="" />

						<label class="selector">
						&nbsp;Filter:
							<select id="filter-selector"></select>
						</label>

						<div class="controls" id="controls-blur">
							<label>
							&nbsp;Amount:
								<input type="range" name="data-pb-blur-amount" min="0" max="10" step="0.05" value="0" />
							</label>
						</div>

						<div class="controls" id="controls-edges">
							<label>
							&nbsp;Amount:
								<input type="range" name="data-pb-edges-amount" min="0" max="1" step="0.01" value="1" />
							</label>
						</div>

						<div class="controls" id="controls-emboss">
							<label>
							&nbsp;Amount:
								<input type="range" name="data-pb-emboss-amount" min="0" max="1" step="0.01" value="0.2" />
							</label>
						</div>

						<div class="controls" id="controls-greyscale">
							<label>
							&nbsp;Opacity:
								<input type="range" name="data-pb-greyscale-opacity" min="0" max="1" step="0.01" value="1" />
							</label>
						</div>

						<div class="controls" id="controls-matrix">
							<label>
							&nbsp;Amount:
								<input type="range" name="data-pb-matrix-amount" min="0" max="1" step="0.01" value="0.2" />
							</label>
						</div>

						<div class="controls" id="controls-mosaic">
							<label>
							&nbsp;Opacity:
								<input type="range" name="data-pb-mosaic-opacity" min="0" max="1" step="0.01" value="1" />
							</label>
							<label>
							&nbsp;Size:
								<input type="range" name="data-pb-mosaic-size" min="1" max="40" step="1" value="5" />
							</label>
						</div>

						<div class="controls" id="controls-noise">
							<label>
							&nbsp;Amount:
								<input type="range" name="data-pb-noise-amount" min="0" max="100" step="1" value="30" />
							</label>
							<label>
							&nbsp;Type:
								<input type="radio" name="data-pb-noise-type" value="mono" />&nbsp;Mono
								<input type="radio" name="data-pb-noise-type" value="colour" />&nbsp;Colour
							</label>
						</div>

						<div class="controls" id="controls-posterize">
							<label>
							&nbsp;Amount:
								<input type="range" name="data-pb-posterize-amount" min="2" max="100" step="1" value="5" />
							</label>
							<label>
							&nbsp;Opacity:
								<input type="range" name="data-pb-posterize-opacity" min="0" max="1" step="0.01" value="1" />
							</label>
						</div>

						<div class="controls" id="controls-sepia">
							<label>
							&nbsp;Opacity:
								<input type="range" name="data-pb-sepia-opacity" min="0" max="1" step="0.01" value="0.5" />
							</label>
						</div>

						<div class="controls" id="controls-sharpen">
							<label>
							&nbsp;Amount:
								<input type="range" name="data-pb-sharpen-amount" min="0" max="1" step="0.01" value="0.2" />
							</label>
						</div>

						<div class="controls" id="controls-tint">
							<label>
							&nbsp;Colour:
								<input type="text" name="data-pb-tint-color" value="#FF0000" />
							</label>
							<label>
							&nbsp;Opacity:
								<input type="range" name="data-pb-tint-opacity" min="0" max="1" step="0.01" value="0.5" />
							</label>
						</div>
						
					</div>		
					</form>		

				</div>
				<p class="project-thumb-caption">A live PaintbrushJS&nbsp;demo</p>
			</li>
		</ul>


	</div>

</section>

<section id="story" class="project-section project-story">
	<div class="wrap">

	<h2>The&nbsp;Story</h2>

	<p>In late 2010 I gave a presentation on the then-new&nbsp;HTML5 <code>canvas</code> element. I briefly touched on the pixel manipulation capabilities it offered, which inspired me to play around further&nbsp;afterwards.</p>

	<p>I realized that the ability to run various functions on any pixel within a defined area meant that common image manipulation abilities were a real possibility, so I rolled up my sleeves and got to work sorting out how to turn this vague idea into&nbsp;something.</p>

	<p>Over a couple of months of evenings I went deep on image processing algorithms and performance optimization, learning how to implement things like convolution matrices and bit shifting to create a lightweight, browser-based image manipulation library. This was also the first true open source project I launched, which garnered a lot of attention and some useful contributions back&nbsp;upstream.</p>

	<p>Aside from the main image processing functions, another issue that needed to be solved was the interface to pull a document’s images into&nbsp;the <code>canvas</code> element and get them back out into the document somehow without requiring much configuration on the author’s&nbsp;part.</p>

	<p>The technique I hit upon involved having the script check for a defined list of filter classes that helped it decide where to apply a filter. For each defined class the script pulls in the image data, regardless of whether it found&nbsp;an <code>img</code> element or CSS background image, and renders it to an&nbsp;off-screen <code>canvas</code> element, applies the filter, then captures the canvas contents to a data-uri and replace the original source with this processed image&nbsp;data.</p>

	<p>The more&nbsp;recent <a href="http://www.w3.org/TR/filter-effects-1/">W3C filter&nbsp;effects</a> spec has made PaintbrushJS mostly redundant today, but in 2010 this was the only way to accomplish these effects on the fly without the assistance of a heavy server-side&nbsp;library.</p>


	</div>
</section>

<section id="elsewhere" class="project-section project-elsewhere">
	<div class="wrap">

	<h2>Paintbrush JS&nbsp;Elsewhere</h2>

	<ul class="link-list link-list-3up">

		<li class="link link-site">
			<a href="http://mezzoblue.github.io/PaintbrushJS/demo/index.html">PaintbrushJS Demo&nbsp;Site</a>
		</li>
		<li class="link link-github">
			<a href="https://github.com/mezzoblue/PaintbrushJS">Github</a>
		</li>
		<li class="link">
			<a href="https://makerba.se/p/1v6525/paintbrushjs">makerbase</a>
		</li>

	</ul>

	</div>
</section>

<section class="project-nav">
	<ul>
		<li class="project-prev">
			<a href="/projects/elevation/" class="link">
			&nbsp;Elevation
			</a>
		</li>
		<li class="project-top">
			<a href="#top" class="link">
				Back to&nbsp;Top
			</a>
		</li>
		<li class="project-next">
			<a href="/projects/chalkwork/" class="link">
				Chalkwork Icon&nbsp;Library
			</a>
		</li>
	</ul>
</section>

<script type="text/javascript" src="/projects/paintbrushjs/script/common.js"></script>

<script type="text/javascript" src="/projects/paintbrushjs/script/paintbrush.js"></script>

<script type="text/javascript" src="/projects/paintbrushjs/script/playground.js"></script>



			
		</article>

	</div>

    <footer class="site-footer">

	<div class="wrapper">


		<ul class="link-list link-list-3up">
			<li class="link">
				<a href="/blog/">Blog</a>
			</li>
			<li class="link link-twitter">
				<a href="https://twitter.com/mezzoblue">mezzoblue</a>
			</li>
			<li class="link link-makerbase">
				<a href="https://makerba.se/m/uoqfpw/mezzoblue">makerbase</a>
			</li>
			<li class="link link-github">
				<a href="https://github.com/mezzoblue">github</a>
			</li>
			<li class="link">
				<a href="/about/">About&nbsp;Me</a>
			</li>
		</ul>

	    <p>
	    	<span>© Copyright 2015–2016 Dave Shea, All Rights&nbsp;Reserved.</span>
	    	<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">License</a>
	    </p>
  
	</div>

</footer>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-1556729-5', 'auto');
  ga('send', 'pageview');
</script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
	<script src="/script/magnific.js"></script>
	<script>
		$(document).ready(function() {
		  $('.project-image').magnificPopup({
			gallery: {
				// options for gallery
				enabled: true
			},
		  	type:'image',

			// Delay in milliseconds before popup is removed
			removalDelay: 300,

			// Class that is added to popup wrapper and background
			// make it unique to apply your CSS animations just to this exact popup
			mainClass: 'mfp-fade'
		  });
		});
	</script>

  </body>

</html>